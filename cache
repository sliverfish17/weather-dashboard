cache reducer

const initialState = {
  cache: [],
};

const cachePlaceReducer = (state = initialState, action: any) => {
  switch (action.type) {
    case "SET_CACHE_WEATHER":
      return {
        ...state,
        cache: [...state.cache, action.payload],
      };
    default:
      return state;
  }
};

export default cachePlaceReducer;



cache action


import axios from "axios";
import { Dispatch } from "react";

export const setCacheWeather = (cache: object) => ({
  type: "SET_CACHE_WEATHER",
  payload: cache,
});

export const fetchCacheWeather =
  (lat: string, lon: string) => (dispatch: Dispatch<any>) => {
    axios
      .get(
        `https://api.openweathermap.org/data/2.5/onecall?lat=${lat}&lon=${lon}&appid=af918003566c01882ca4d94c4bf8bbb0&units=metric`
      )
      .then(({ data }) => {
        dispatch(setCacheWeather(data));
      });
  };
